<div class="header">
  <h1>Products</h1>
  <p>Our product list</p>
<div>
    <button (click)="makeMsgAsReading()" class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" style="background: #00b09b;border: none;cursor: pointer;position: relative;">
      <i class="fa fa-bell" style="font-size:48px;color:gold;background-color:#00b09b;"></i>
      <div *ngIf="(singlarService.unreadMsg | async) as unreadMsg" class="count" style="position: absolute;top: 0;right: 2px;color: white;font-size: 20px;background-color: red;border-radius: 50%;padding:1px">
        {{unreadMsg.length}}
      </div>  
    </button>
    <ul class="dropdown-menu">
      <li >
        <a *ngFor="let item of allMsg" class="dropdown-item" href="#">- {{item.message}}
        </a>
      </li>
    </ul>
</div>
</div>
<div>
<table mat-table [dataSource]="productService.products" class="mat-elevation-z8">

    <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->
  
    <!-- Position Column -->
    <ng-container matColumnDef="productId">
      <th mat-header-cell *matHeaderCellDef> Product ID </th>
      <td mat-cell *matCellDef="let element"> {{element.productId}} </td>
    </ng-container>
  
    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td mat-cell *matCellDef="let element"> {{element.productName}} </td>
    </ng-container>
  
    <!-- Weight Column -->
    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef> Description </th>
      <td mat-cell *matCellDef="let element"> {{element.description}} </td>
    </ng-container>
  
    <!-- Symbol Column -->
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef> Price </th>
      <td mat-cell *matCellDef="let element"> {{element.price}} </td>
    </ng-container>

    <ng-container matColumnDef="stock">
        <th mat-header-cell *matHeaderCellDef> Stock </th>
        <td mat-cell *matCellDef="let element"> {{element.stock}} </td>
      </ng-container>

      <ng-container matColumnDef="subscribe">
        <th mat-header-cell *matHeaderCellDef> Get Notified </th>
        <td mat-cell *matCellDef="let element" (click)="subscribeToProduct(element.productId)">          <button mat-fab color="accent" aria-label="Example icon button with a bookmark icon">
          <mat-icon>bookmark</mat-icon>
        </button>  </td>
      </ng-container>

      <ng-container matColumnDef="Unsubscribe">
        <th mat-header-cell *matHeaderCellDef> remove Notified </th>
        <td mat-cell *matCellDef="let element" (click)="unSubscribeToProduct(element.productId)">          <button mat-fab color="accent" aria-label="Example icon button with a bookmark icon">
          <mat-icon>bookmark</mat-icon>
        </button>  </td>
      </ng-container>

  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
